As you might know, ui-core version 4 has recently been released. We recommend you check out our [changelog](https://github.com/dhis2/ui-core/blob/master/CHANGELOG.md) for the full list of changes. There are also live demos and API docs at [https://ui-core.dhis2.nu](https://ui-core.dhis2.nu).

To help you upgrade to ui-core 4 we’ll briefly go through the most important changes:

### Why have the input fields changed?

There are three main reasons for the breaking change in the input fields:

1. The previous inputs were not recognizable enough as inputs for all users
2. There were no good reasons to maintain multiple input styles
3. The filled and outlined inputs sometimes interchanged the use of labels and/or placeholder text. This needed to be simplified to define clearly the roles of the label and placeholder.

The previous filled and outlined inputs were inherited from our use of Material UI. When building our own UI library we have been able to create an input component that is right for DHIS2 applications. The new input component is:

- Recognizable: it looks and behaves like input fields most users are familiar with
- Understandable: there are no animations or moving parts to distract from its core use
- Using obvious label and placeholder texts: a label is always above, a placeholder text is always within. Using one does not affect the other.

### New callback style

The callback style for ui-core components has changed. Previously any callbacks passed to our components would be called with the synthetic event. We’re now calling all callbacks with an object with relevant data first, and the synthetic event second. To clarify, this is for example how the `onChange` prop on our `Input` component now works:

```jsx
<Input
  name=“inputname”
  onChange={({ data, event }) => {
    const { value, name } = data;
    
    // the same as event.target.value
    console.log(value)
    // will log “inputname”, see the “name” prop above
    console.log(name)
  }}
  // other props omitted for clarity
/>
```

We’ve done this because ui-core 4 introduced non-native components, and this allows us to pass any custom data besides the event. To keep things consistent, we’ve adopted this pattern for all our components.

### Select deprecation

Speaking of non-native components, the `Select` component has been deprecated In favor of the new `SingleSelect` and `MultiSelect` components. They’re not backed by the native select element, and thus allow us to create a select component that is more in line with modern UI and UX expectations.

### New components

We’ve added several other new components: the `Textarea`, `TextareaField`, `FileInput` and `FileInputField` have also been added.

### React version

There has been a slight bump in the required react version, ui-core now requires at least react 16.8 and react-dom 16.8.

### Smaller changes

- The `Modal` now always renders (instead of accepting an `open` prop). Make sure to not render it if you don't want it to be displayed.
- Besides the user-facing changes listed above, we've added a lot of integration tests for our components and are in the process of adding more.

We hope the above is useful in your upgrade to version 4 of ui-core. Let us know if you encounter anything, and feel free to open an issue or PR!
